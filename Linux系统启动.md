# Linux启动过程

内核引导 》运行init 》系统初始化 》建立终端 》用户登录

### 内核引导

当计算机打开电源后，首先是BIOS开机自检，按照BIOS中设置的启动设备（通常是硬盘）来启动。**操作系统接管硬件以后，首先读入/boot目录下的内核文件**。

### 运行init

**init 进程是系统所有进程的起点**，你可以把它比拟成系统所有进程的老祖宗，没有这个进程，系统中任何进程都会会启动。init 程序首先是需要读取配置文件 /etc/inittab。

##### 运行级别（7个运行级别）

Linux中的守护进程类似于Windows系统的服务。Linux启动时，根据运行级别，确定要运行哪些程序。

###### Linux系统有7个运行级别(runlevel)：

- 运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动
- 运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆
- 运行级别2：多用户状态(没有NFS)
- 运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式
- 运行级别4：系统未使用，保留
- 运行级别5：X11控制台，登陆后进入图形GUI模式
- 运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动

### 系统初始化

在init的配置文件中有这么一行：si::sysinit:/etc/rc.d/rc.sysinit它调用执行了/etc/rc.d/rc.sysinit，而rc.sysinit是一个bash shell的脚本，它主要是完成一些系统初始化的工作，rc.sysinit是每一个运行级别都要首先运行的重要脚本。

它主要完成的工作有：激活交换分区，检查磁盘，加载硬件模块以及其它一些需要优先执行任务。

### 建立终端

rc执行完毕后，返回init。这时基本系统环境已经设置好了，各种守护进程也已经启动了。init接下来会打开6个终端，以便用户登录系统。

### 用户登录系统

（1）命令行登录

（2）ssh登录

（3）图形界面登录

